<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object ptactice</title>
</head>

<body>
    <!-- this引用对象 -->
    <form name="myForm">
        <p><label>Form name:<input type="text" name="text1" value="Beluga"></label>
            <p><input name="button1" type="button" value="Show Form Name" onclick="this.form.text1.value = this.form.name">
            </p>
    </form>
    <script>
        var myCar = new Object();
        myCar.make = "Ford";
        myCar.model = "mustang";
        myCar.year = 1969;

        // var myObj = new Object(),
        //     str = 'myString',
        //     rand = Math.random(),
        //     obj = new Object();

        // myObj.type;
        // myObj['date created'];
        // myObj[str];
        // myObj[rand];
        // myObj[obj];
        // myObj[''];

        // console.log(myObj);

        // 查看对象属性
        function showProps(obj, objName) {
            var result = "";
            for (var i in obj) {
                if (obj.hasOwnProperty(i)) {
                    result += objName + '.' + i + '=' + obj[i] + '\n';
                }
            }
            return result;
        }
        console.log(showProps(myCar, 'myCar'));

        // 对象初始化器创建对象
        var obj = {
            // property_1: value1,
            // 2: value2,
            // ['prperty' + 3]: value3,
            // // ...
            // 'property_3': valuen
        };

        // 使用构造函数创建对象
        function Car(make, model, year) {
            this.make = make;
            this.model = model;
            this.year = year;
        }

        var myCar = new Car('eagle', 'Talon TSi', 1993);

        //另一个构建函数
        function Person(name, age, sex) {
            this.name = name;
            this.age = age;
            this.sex = sex;
        }
        var rand = new Person('Rand McKinnon', 33, 'M');
        var ken = new Person('Ken Jones', 39, 'M');

        // 重写Car的构造函数
        function Car(make, model, year, owner) {
            this.make = make;
            this.model = model;
            this.year = year;
            this.owner = owner;
            // 在构造函数中定义方法
            function displayCar() {
                var result = `A beautiful ${this.year} ${this.make} ${this.model}`;
                pretty_print(result);
            }
            this.displayCar = displayCar;
        }

        // 使用Person对象构建新的Car对象
        var car1 = new Car('Eagle', 'Talon TSi', 1993, rand);
        var car2 = new Car('Nissan', '300ZX', 1992, ken);

        // 可以访问car2拥有者的姓名
        car1.owner.name;

        // 可以直接添加对象的property
        car2.color = 'black';

        // 使用Object()构造对象，可以继承对象
        var animal = {
            type: 'Invertebrates', // 默认属性值
            displayType: function() { //用于显示type属性的方法
                console.log(this.type);
            }
        }

        // 创造一种新的动物--animal1
        var animal1 = Object.create(animal);
        animal1.displayType(); // logs Invertebrates

        // 创造新的动物 fish
        var fish = Object.create(animal);
        fish.type = 'Fishes';
        fish.displayType(); // logs Fishes

        // 定义getter和setter, 第一种方法
        var o = {
            a: 7,
            get b() {
                return this.a + 1;
            },
            set c(x) {
                return this.a = x / 2;
            }
        };

        console.log(o.a) // return 7
        console.log(o.b) // return 8
        o.c = 50;
        console.log(o.a) // return25

        // 定义getter和setter方法, 第二种方法
        Object.defineProperties(o, {
            'b': {
                get: function() {
                    return this.a + 1;
                }
            },
            'c': {
                set: function(x) {
                    return this.a = x / 2;
                }
            }
        })
    </script>
</body>

</html>'